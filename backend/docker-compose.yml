version: '3.8'
services:
  # üü¢ Service 1: Node.js (Main Backend)
  api:
    build:
      context: .
      dockerfile: Dockerfile # ‡πÉ‡∏ä‡πâ Dockerfile ‡∏Ç‡∏≠‡∏á Node ‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ
    ports:
      - "3003:3003"
    volumes:
      - ./data:/app/data
    environment:
      - PYTHON_API_URL=http://python_nlp:5000 # ‡∏ö‡∏≠‡∏Å Node ‡∏ß‡πà‡∏≤ Python ‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô
    depends_on:
      - python_nlp

  # üü¢ Service 2: Python (NLP Tokenizer)
  python_nlp:
    build:
      context: .
      dockerfile: Dockerfile.python # ‡πÉ‡∏ä‡πâ Dockerfile.python ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
    ports:
      - "5000:5000"